<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GA REPORTER</title>
  <meta name="theme-color" content="#0f172a" />
  <link rel="manifest" href="manifest.json">

  <style>
    :root {
      --primary: #1f2933;
      --accent: #eab308;
      --bg: #f9fbf9;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --success: #15803d;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif;
      background:
        radial-gradient(circle at top, #1e293b, #020617 65%);
      color: var(--text);
    }

    .app {
      max-width: 520px;
      margin: 0 auto;
      padding: 16px 14px 28px;
      background: transparent;
    }

    header {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      padding: 12px 0 18px;
    }

    /* Rounded rectangle INSIDE title (no size change) */
    h1 {
      font-size: 1.25rem;
      margin: 6px 0 0;
      letter-spacing: .3px;
      padding: 6px 14px;
      border-radius: 999px;
      background: linear-gradient(135deg, #0000fc, #0004f9);
      color: #f4f4f4;
      box-shadow: 0 4px 12px rgba(2, 56, 30, 0.25);
    }

    /* Quote lighter only */
    .subtitle {
      font-size: .85rem;
      color: #f9f9f9;
      text-align: center;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 14px;
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 14px 10px;
      border-radius: 12px;
      background: var(--card);
      color: var(--text);
      text-decoration: none;
      font-weight: 600;
      font-size: .9rem;
      border: 1px solid #2500f8;
      box-shadow: 0 6px 16px rgba(0, 0, 0, .1);
    }

    .btn.primary {
      background: linear-gradient(135deg, var(--accent), #facc15);
      color: #1f2933;
      border: none;
    }

    /* Secure buttons â€“ visual only */
    .btn.management {
      background: linear-gradient(135deg, #15803d, #22c55e);
      color: #ffffff;
      border: none;
      position: relative;
    }

    .btn.management::before {
      content: "ðŸ”’ ";
    }

    footer {
      margin-top: 22px;
      padding-top: 14px;
      border-top: 1px dashed #fafafa;
      text-align: center;
      font-size: .8rem;
      color: var(--muted);
    }

    /* Splash */
    #splash {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, #1e293b, #020617 70%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      color: #f8db03;
      font-size: 1.2rem;
      letter-spacing: 1px;
    }

    #pinGate {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9000;
    }

    .pin-box {
      background: #ffffff;
      padding: 22px;
      border-radius: 16px;
      width: 90%;
      max-width: 320px;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0, 0, 0, .35);
    }

    .pin-box input {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      border-radius: 10px;
      border: 1px solid #cbd5f5;
      text-align: center;
      font-size: 1.1rem;
    }

    .offline {
      display: none;
      margin: 12px 0;
      padding: 10px;
      background: #fee2e2;
      color: #7f1d1d;
      border-radius: 10px;
      text-align: center;
    }

    .pin-modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9500;
    }

    .pin-modal .box {
      background: #fff;
      padding: 22px;
      border-radius: 14px;
      width: 90%;
      max-width: 320px;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0, 0, 0, .35);
    }

    .pin-modal input {
      width: 100%;
      padding: 12px;
      margin-top: 12px;
      border-radius: 10px;
      border: 1px solid #cbd5f5;
      font-size: 1.05rem;
      text-align: center;
    }

    /* Close (X) button for PIN modals */
    .close-pin {
      position: absolute;
      top: 10px;
      right: 12px;
      background: transparent;
      border: none;
      font-size: 1.3rem;
      font-weight: bold;
      color: #f80000;
      cursor: pointer;
      line-height: 1;
    }

    .close-pin:hover {
      color: #111827;
    }

    /* Ensure parent can position the X button */
    .pin-box,
    .pin-modal .box {
      position: relative;
    }
  </style>
</head>

<body>

  <div id="splash"><strong>GA REPORTER</strong></div>

  <div id="pinGate">
    <div class="pin-box">
      <strong>Enter Access PIN ðŸ”‘</strong>
      <input type="password" id="pinInput" placeholder="****" />
      <a class="btn primary" style="margin-top:12px" onclick="checkPin()">Unlock</a>
    </div>
  </div>

  <div class="app">
    <header>
      <h1>GA REPORTER</h1>
      <div class="subtitle">Rooted in African heritage, guided by knowledge, discipline, and purpose.</div>
      <div class="subtitle">The Gambia Academy.</div>
    </header>

    <div class="offline" id="offlineMsg">You are offline. Internet connection is required.</div>

    <section class="grid">
      <a class="btn primary" href="https://forms.gle/QVLjuyta21LbEWsd8" target="_blank">Routines</a>
      <a class="btn" href="https://forms.gle/PP4Chv84DfwqQTUv6" target="_blank">Laptop Request</a>
      <a class="btn" href="https://forms.gle/FfoZmsPaWM5GjavZ7" target="_blank">Classrooms</a>
      <a class="btn" href="https://forms.gle/9uM9rJkA8ngSQz7d8" target="_blank">The School Bus</a>
      <a class="btn" href="https://forms.gle/SpgCDv9giecBwpys5" target="_blank">Disciplinary Board</a>
      <a class="btn" href="https://forms.gle/aQvkwczHLAqeEqpE7" target="_blank">After School Sessions</a>
      <a class="btn" href="https://forms.gle/zRu51yjecNpRn4fu8" target="_blank">Financial Request</a>
      <a class="btn management" href="#" onclick="openProtected('staff')">Staff Deduction</a>
      <a class="btn management" href="#" onclick="openProtected('observation')">Teacher Observation</a>
      <a class="btn management" href="#" onclick="showManagementPin()">Management</a>
    </section>

    <footer>
      <strong>Powered By JangAfrica</strong>
      <div style="margin-top:8px;">Â© 2026 JangAfrica. All rights reserved.</div>
    </footer>
  </div>

  <!-- ORIGINAL JS UNCHANGED -->
  <script>
    const CORRECT_PIN = 'ga26';
    window.onload = () => {
      setTimeout(() => {
        document.getElementById('splash').style.display = 'none';
        document.getElementById('pinGate').style.display = 'flex';
      }, 1500);
      updateOnlineStatus();
    };
    function checkPin() {
      const val = document.getElementById('pinInput').value;
      if (val === CORRECT_PIN) {
        document.getElementById('pinGate').style.display = 'none';
      } else alert('Incorrect PIN');
    }
    function updateOnlineStatus() {
      document.getElementById('offlineMsg').style.display = navigator.onLine ? 'none' : 'block';
    }
    window.addEventListener('online', updateOnlineStatus);
    window.addEventListener('offline', updateOnlineStatus);
  </script>

  <div class="pin-modal" id="managementPin">
    <div class="box">
      <button class="close-pin" onclick="document.getElementById('managementPin').style.display='none'">Ã—</button>
      <strong>Enter PIN ðŸ”’</strong>
      <input type="password" id="managementPinInput" placeholder="*******" />
      <a class="btn management" style="margin-top:12px" onclick="checkManagementPin()">Unlock</a>
    </div>
  </div>

  <script>
    const MANAGEMENT_PIN = 'ga@2026';
    let protectedTarget = '';
    function showManagementPin() {
      document.getElementById('managementPin').style.display = 'flex';
    }
    function openProtected(type) {
      protectedTarget = type;
      document.getElementById('managementPin').style.display = 'flex';
    }
    function checkManagementPin() {
      const val = document.getElementById('managementPinInput').value;
      if (val === MANAGEMENT_PIN) {
        document.getElementById('managementPin').style.display = 'none';
        if (protectedTarget === 'staff') {
          window.open('https://forms.gle/S13X2CXnkWRPuhZx5', '_blank');
        } else if (protectedTarget === 'observation') {
          window.open('https://forms.gle/aNhhYgVFe96QbS8T8', '_blank');
        } else {
          window.open('https://docs.google.com/spreadsheets/d/19nRY6WbAitLv3qz0tktjkB8wvCCGJ2uxmxxGX8YFr2I/edit?usp=sharing', '_blank');
        }
        protectedTarget = '';
      } else alert('Incorrect PIN');
    }
  </script>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./sw.js");
    }
  </script>

</body>

</html>
